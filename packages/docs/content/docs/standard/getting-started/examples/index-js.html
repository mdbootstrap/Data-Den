---
---

<script type="module">
  import { DataDen, DataDenDefaultCellRenderer } from '/js/data-den.es.min.js';
  const rows = [
    { car: 'Honda', model: 'Civic', year: '01/05/2013', price: 28000 },
    { car: 'Mitsubishi', model: 'Lancer', year: '01/05/2013', price: 56000 },
    { car: 'Porsche', model: 'Boxster', year: '09/02/2020', price: 31000 },
    { car: 'Toyota', model: 'Celica', year: '16/12/2010', price: 18000 },
    { car: 'Kia', model: 'Sportage', year: '14/09/2006', price: 28000 },
    { car: 'Ford', model: 'Focus', year: '04/07/2014', price: 24000 },
    { car: 'Ford', model: 'Focus', year: '16/12/2010', price: 24000 },
    { car: 'Porsche', model: 'Boxster', year: '24/01/2015', price: 31000 },
    { car: 'Mitsubishi', model: 'Lancer', year: '14/09/2006', price: 18000 },
    { car: 'Kia', model: 'Sportage', year: '01/05/2013', price: 24000 },
  ];
  (() => {
    const options = {
      columns: [
        {
          field: 'car',
          headerName: 'Car',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'model',
          headerName: 'Model',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'year',
          headerName: 'Year',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'price',
          headerName: 'Price',
          cellRenderer: DataDenDefaultCellRenderer,
        },
      ],
      rows: rows,
    };

    //basic example
    const ddElBasic = document.getElementById('dd-basic');
    const dataDenBasic = new DataDen(ddElBasic, options);
    //basic example

    //search example
    const ddElSearch = document.getElementById('dd-search');
    const dataDenSearch = new DataDen(ddElSearch, { ...options, quickFilter: true });
    const searchInput = document.querySelector('.data-den-quick-filter-input');
    searchInput.addEventListener('keyup', () => {
      dataDenSearch.quickFilter(searchInput.value);
    });

    searchInput.style.border = '1px solid #000';
    searchInput.style.borderRadius = '6px';
    searchInput.style.padding = '4px';
    //search example

    //draggable example
    const ddElDraggable = document.getElementById('dd-draggable');
    const dataDenDraggable = new DataDen(ddElDraggable, { ...options, draggable: true });
    //draggable example
  })();

  //search column example
  (() => {
    const options = {
      columns: [
        {
          field: 'car',
          headerName: 'Car',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'model',
          headerName: 'Model',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'year',
          headerName: 'Year',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'price',
          headerName: 'Price',
          cellRenderer: DataDenDefaultCellRenderer,
        },
      ],
      rows: rows,
    };

    const ddElBasic = document.getElementById('dd-search-column');
    const dataDenBasic = new DataDen(ddElBasic, options);
  })();
  //search column example

  //pagination example
  (() => {
    const rows = [
      { car: 'Honda', model: 'Civic', year: '01/05/2013', price: 28000 },
      { car: 'Mitsubishi', model: 'Lancer', year: '01/05/2013', price: 56000 },
      { car: 'Porsche', model: 'Boxster', year: '09/02/2020', price: 31000 },
      { car: 'Toyota', model: 'Celica', year: '16/12/2010', price: 18000 },
      { car: 'Kia', model: 'Sportage', year: '14/09/2006', price: 28000 },
      { car: 'Ford', model: 'Focus', year: '04/07/2014', price: 24000 },
      { car: 'Ford', model: 'Focus', year: '16/12/2010', price: 24000 },
      { car: 'Porsche', model: 'Boxster', year: '24/01/2015', price: 31000 },
      { car: 'Mitsubishi', model: 'Lancer', year: '14/09/2006', price: 18000 },
      { car: 'Kia', model: 'Sportage', year: '01/05/2013', price: 24000 },
      { car: 'Porsche', model: 'Boxster', year: '28/08/2004', price: 28000 },
      { car: 'Toyota', model: 'Celica', year: '28/08/2004', price: 12000 },
      { car: 'Mitsubishi', model: 'Lancer', year: '16/12/2010', price: 34000 },
      { car: 'Toyota', model: 'Celica', year: '28/08/2004', price: 18000 },
      { car: 'Lamborghini', model: 'Aventador', year: '24/01/2015', price: 56000 },
      { car: 'Nissan', model: 'X-Trail', year: '01/05/2013', price: 56000 },
      { car: 'Honda', model: 'Civic', year: '01/05/2013', price: 15000 },
      { car: 'Porsche', model: 'Boxster', year: '24/01/2015', price: 24000 },
      { car: 'Ford', model: 'Focus', year: '14/09/2006', price: 15000 },
      { car: 'Lamborghini', model: 'Aventador', year: '14/09/2006', price: 15000 },
      { car: 'Ford', model: 'Focus', year: '09/02/2020', price: 12000 },
      { car: 'Honda', model: 'Civic', year: '24/01/2015', price: 34000 },
      { car: 'Mitsubishi', model: 'Lancer', year: '09/02/2020', price: 34000 },
      { car: 'Honda', model: 'Civic', year: '09/02/2020', price: 12000 },
      { car: 'Mitsubishi', model: 'Lancer', year: '09/02/2020', price: 15000 },
      { car: 'Ford', model: 'Focus', year: '28/08/2004', price: 24000 },
      { car: 'Nissan', model: 'X-Trail', year: '16/12/2010', price: 15000 },
      { car: 'Toyota', model: 'Celica', year: '13/11/2021', price: 15000 },
      { car: 'Toyota', model: 'Celica', year: '09/02/2020', price: 12000 },
      { car: 'Mitsubishi', model: 'Lancer', year: '09/02/2020', price: 34000 },
    ];

    const options = {
      columns: [
        {
          field: 'car',
          headerName: 'Car',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'model',
          headerName: 'Model',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'year',
          headerName: 'Year',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'price',
          headerName: 'Price',
          cellRenderer: DataDenDefaultCellRenderer,
        },
      ],
      rows: rows,
      pagination: true,
    };

    const ddEl = document.getElementById('dd-pagination');
    const dataDenBasic = new DataDen(ddEl, options);
  })();
  //pagination example

  //advanced structure
  (() => {
    const options = {
      columns: [
        {
          field: 'car',
          headerName: 'Car',
          sort: true,
          resize: true,
          width: 150,
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'model',
          headerName: 'Model',
          sort: true,
          resize: true,
          width: 150,
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'year',
          headerName: 'Year',
          sort: true,
          resize: true,
          width: 150,
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'price',
          headerName: 'Price',
          sort: true,
          resize: true,
          width: 150,
          cellRenderer: DataDenDefaultCellRenderer,
        },
      ],
      rows: rows,
    };

    const ddElBasic = document.getElementById('dd-advanced-structure');
    const dataDenBasic = new DataDen(ddElBasic, options);
  })();
  //advanced structure

  //cell-formatting
  (() => {
    class ExampleCellRenderer {
      value;
      constructor(data) {
        this.value = data.value;
      }
      getGui() {
        const el = document.createElement('span');
        el.innerText = this.value;
        el.classList.add('color-red');

        const wrapper = document.createElement('div');
        if (+this.value > 25000 && +this.value < 50000) {
          wrapper.classList.add('bg-warning');
        } else if (+this.value > 50000) {
          wrapper.classList.add('bg-danger');
        } else {
          wrapper.classList.add('bg-success');
        }

        wrapper.appendChild(el);

        return wrapper;
      }
    }

    const options = {
      columns: [
        {
          field: 'car',
          headerName: 'Car',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'model',
          headerName: 'Model',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'year',
          headerName: 'Year',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'price',
          headerName: 'Price',
          cellRenderer: ExampleCellRenderer,
        },
      ],
      rows: rows,
    };

    const ddElBasic = document.getElementById('dd-cell-formatting');
    const dataDenBasic = new DataDen(ddElBasic, options);
  })();
  //cell-formatting

  //fixed-header and scroll
  (() => {
    const options = {
      columns: [
        {
          field: 'car',
          headerName: 'Car',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'model',
          headerName: 'Model',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'year',
          headerName: 'Year',
          cellRenderer: DataDenDefaultCellRenderer,
        },
        {
          field: 'price',
          headerName: 'Price',
          cellRenderer: DataDenDefaultCellRenderer,
        },
      ],
      rows: rows,
    };
    //fixed-header
    const ddElFixedHeader = document.getElementById('dd-fixed-header');
    const dataDenFixedHeader = new DataDen(ddElFixedHeader, options);

    const styleDataDenGrid = `overflow: scroll; height: 200px;`;
    const styleDataDenGridHeader = `position: sticky !important; top: 0; z-index: 1;`;

    const gridFixedHeader = ddElFixedHeader.querySelector('.data-den-grid');
    const headerFixedHeader = ddElFixedHeader.querySelector('.data-den-header');
    gridFixedHeader.style.cssText = styleDataDenGrid;
    headerFixedHeader.style.cssText = styleDataDenGridHeader;

    //fixed-header

    //scroll
    const ddElScroll = document.getElementById('dd-scroll');
    const dataDenScroll = new DataDen(ddElScroll, options);
    const gridScroll = ddElScroll.querySelector('.data-den-grid');
    const headerFixedHeaderScroll = ddElScroll.querySelector('.data-den-header');
    gridScroll.style.cssText = styleDataDenGrid;

    //scroll
  })();
  //fixed-header and scroll
</script>
