---
---

<!--Handle currency if DPL fails-->
<script>
  // Select all elements with the class '.mdb-price-currency'
  var currencySymbolsFallback = document.querySelectorAll('.currency-symbol');

  // Get the current timezone
  var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

  // Loop through each element
  currencySymbolsFallback.forEach(function (symbol) {
    // Check if the span is empty
    if (symbol.textContent.trim() === '') {
      // Check if the timezone contains "/US"
      if (timezone.includes('/US')) {
        // If it does, and the span is empty, change the text content to "$"
        symbol.textContent = '$';
      } else {
        // Otherwise, change the text content to "€"
        symbol.textContent = '€';
      }
    }
  });
</script>

<!-- Zmiana cen przy Select -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Pobierz elementy HTML
    var selectElement = document.querySelector('[data-te-select-init]');
    var billedAtElements = document.querySelectorAll('.teamPrice');
    var monthlyPriceElement = document.querySelector('.monthlyPrice');
    var buyNowLink = document.querySelector('.buyNowLink'); // Dodaj element do linka "BUY NOW"

    // Dodaj nasłuchiwanie na zmianę wartości w elemencie select
    selectElement.addEventListener('change', function () {
      // Pobierz wybraną wartość z select
      var selectedValue = parseInt(selectElement.value);

      // Ustaw cenę w zależności od wybranej wartości
      var yearlyPrice = calculatePrice(selectedValue);

      // Oblicz cenę miesięczną
      var monthlyPrice = Math.round(yearlyPrice / 12);

      // Zaktualizuj tekst w każdym elemencie, gdzie wyświetlasz cenę
      billedAtElements.forEach(function (element) {
        element.textContent = yearlyPrice;
      });

      // Zaktualizuj tekst w elemencie wyświetlającym cenę miesięczną
      monthlyPriceElement.textContent = monthlyPrice;

      // Zaktualizuj końcówkę linka "BUY NOW"
      buyNowLink.href = 'https://mdbootstrap.com/?add-to-cart=' + getProductId(selectedValue);
    });

    // Funkcja do obliczania ceny w zależności od wartości w elemencie select
    function calculatePrice(value) {
      switch (value) {
        case 2:
          return 434;
        case 3:
          return 653;
        case 4:
          return 872;
        case 5:
          return 1089;
        case 6:
          return 1308;
        case 7:
          return 1527;
        case 8:
          return 1746;
        case 9:
          return 1961;
        case 10:
          return 2180;
        default:
          return 0;
      }
    }

    // Funkcja do uzyskania identyfikatora produktu na podstawie wartości w elemencie select
    function getProductId(value) {
      switch (value) {
        case 2:
          return 148019;
        case 3:
          return 148020;
        case 4:
          return 148021;
        case 5:
          return 148022;
        case 6:
          return 148023;
        case 7:
          return 148024;
        case 8:
          return 148025;
        case 9:
          return 148026;
        case 10:
          return 148027;
        default:
          return 0;
      }
    }
  });
</script>
