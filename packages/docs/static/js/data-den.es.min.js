var Ss = (h, t, e) => {
  if (!t.has(h)) throw TypeError('Cannot ' + e);
};
var s = (h, t, e) => (Ss(h, t, 'read from private field'), e ? e.call(h) : t.get(h)),
  r = (h, t, e) => {
    if (t.has(h)) throw TypeError('Cannot add the same private member more than once');
    t instanceof WeakSet ? t.add(h) : t.set(h, e);
  },
  n = (h, t, e, i) => (Ss(h, t, 'write to private field'), i ? i.call(h, e) : t.set(h, e), e);
var ys = (h, t, e, i) => ({
    set _(o) {
      n(h, t, o, e);
    },
    get _() {
      return s(h, t, i);
    },
  }),
  a = (h, t, e) => (Ss(h, t, 'access private method'), e);
function $(h, t = 'div') {
  const e = document.createElement(t);
  return (e.innerHTML = h), e.firstElementChild;
}
function Yi(h, t) {
  let e;
  return (...i) => {
    const o = () => {
      clearTimeout(e), h(...i);
    };
    clearTimeout(e), (e = setTimeout(o, t));
  };
}
const Yt = (h) => {
  if (typeof h != 'object' || h === null) return h;
  if (h instanceof Date) return new Date(h.getTime());
  if (h instanceof Array) return h.reduce((t, e, i) => ((t[i] = Yt(e)), t), []);
  if (h instanceof Object) return Object.keys(h).reduce((t, e) => ((t[e] = Yt(h[e])), t), {});
};
var yt;
class Zi {
  constructor(t) {
    r(this, yt, void 0);
    n(this, yt, t.cssPrefix);
    const e = `
      <div class="${s(this, yt)}cell-editor-container"><input type="text" value="${t.value}"></div>
    `;
    this.element = $(e);
  }
  getGui() {
    return this.element;
  }
  setValue() {}
  parseValue() {}
}
yt = new WeakMap();
var dt, z, Ft, Zt, Rt, $t, te, Ts, ee, qs, se, ks;
class Os {
  constructor(t, e, i, o, c, d) {
    r(this, te);
    r(this, ee);
    r(this, se);
    r(this, dt, void 0);
    r(this, z, void 0);
    r(this, Ft, void 0);
    r(this, Zt, void 0);
    r(this, Rt, void 0);
    r(this, $t, void 0);
    (this.colIndex = e),
      (this.rowIndex = i),
      n(this, dt, t),
      n(this, z, d),
      n(this, Rt, o),
      n(this, $t, c),
      a(this, te, Ts).call(this);
  }
  render() {
    const t =
        /* HTML */
        `
          <div
            class="${s(this, z).cssPrefix}cell ${s(this, z).draggable ? `${s(this, z).cssPrefix}cell-draggable` : ''}"
            role="gridcell"
            ref="cell"
            style="left: ${s(this, Rt)}px; width: ${s(this, $t)}px;"
          ></div>
        `,
      e = $(t);
    return e.appendChild(s(this, Ft).getGui()), e;
  }
}
(dt = new WeakMap()),
  (z = new WeakMap()),
  (Ft = new WeakMap()),
  (Zt = new WeakMap()),
  (Rt = new WeakMap()),
  ($t = new WeakMap()),
  (te = new WeakSet()),
  (Ts = function () {
    const e = s(this, z).columns[this.colIndex].cellRenderer,
      i = a(this, ee, qs).call(this),
      o = a(this, se, ks).call(this);
    n(this, Ft, new e(i)), n(this, Zt, new Zi(o));
  }),
  (ee = new WeakSet()),
  (qs = function () {
    return {
      value: s(this, dt),
      cssPrefix: s(this, z).cssPrefix,
    };
  }),
  (se = new WeakSet()),
  (ks = function () {
    return {
      value: s(this, dt),
      cssPrefix: s(this, z).cssPrefix,
    };
  });
class tr {
  constructor(t) {
    this.element = $(`<span>${t.value}</span>`);
  }
  getGui() {
    return this.element;
  }
}
var zt;
class er {
  constructor(t) {
    r(this, zt, void 0);
    n(this, zt, t.cssPrefix);
    const e = `<div class="${s(this, zt)}header-cell-value">${t.value}</div>`;
    this.element = $(e);
  }
  getGui() {
    return this.element;
  }
}
zt = new WeakMap();
class sr {
  sort() {}
}
class ir {
  constructor(t, e, i) {
    (this.name = t), (this.data = e), (this.context = i), (this.key = '' + Math.random());
  }
}
var L, ie, As;
class l {
  static publish(t, e) {
    if (!s(this, L)[t]) return;
    const i = new ir(t, e, e.context);
    s(this, L)[t].forEach((o) => {
      o(i);
    });
  }
  static subscribe(t, e) {
    if (!s(this, L)[t]) throw new Error(`Could not subscribe: Unsupported event: ${t}`);
    return (
      s(this, L)[t].push(e),
      () => {
        a(this, ie, As).call(this, t, e);
      }
    );
  }
}
(L = new WeakMap()),
  (ie = new WeakSet()),
  (As = function (t, e) {
    s(this, L)[t] && (s(this, L)[t] = s(this, L)[t].filter((i) => i !== e));
  }),
  r(l, ie),
  r(l, L, {
    'command:pagination:load-first-page:start': [],
    'command:pagination:load-prev-page:start': [],
    'command:pagination:load-next-page:start': [],
    'command:pagination:load-last-page:start': [],
    'info:pagination:data-change:done': [],
    'info:pagination:info-change:done': [],
    'info:pagination:page-size-change:done': [],
    'info:dragging:columns-reorder:done': [],
    'command:sorting:start': [],
    'info:filtering:get-active-quick-filter:done': [],
    'info:filtering:header-filter-changed': [],
    'info:filtering:active-filters-changed': [],
    'info:filtering:quick-filter-changed': [],
    'info:filtering:active-quick-filter-changed': [],
    'info:resizing:mousedown': [],
    'info:resizing:mouseup': [],
    'command:resizing:start': [],
    'info:resizing:start': [],
    'info:resizing:done': [],
    'command:fetch:start': [],
    'command:fetch:sort-start': [],
    'info:fetch:done': [],
  });
class m {
  constructor(t) {
    this.action = t;
  }
}
var ut, O, re, Hs, ne, Is;
class rr extends sr {
  constructor(e, i, o) {
    super();
    r(this, re);
    r(this, ne);
    r(this, ut, void 0);
    r(this, O, void 0);
    n(this, O, o);
    const c = `
      <div class="${s(this, O)}header-sorter">
        <div
          ref="sorterArrow"
          class="${s(this, O)}header-sorter-arrow ${s(this, O)}header-sorter-arrow-${i}"
        >
        </div>
      </div>
    `;
    n(this, ut, e),
      (this.element = $(c)),
      (this.arrowElement = this.element.querySelector('[ref="sorterArrow"]')),
      this.element.addEventListener('click', () => this.sort()),
      a(this, re, Hs).call(this);
  }
  destroy() {
    throw new Error('Method not implemented.');
  }
  getGui() {
    return this.element;
  }
  sort() {
    const e = 'command:sorting:start';
    l.publish(e, {
      caller: this,
      context: new m(e),
      field: s(this, ut),
    });
  }
}
(ut = new WeakMap()),
  (O = new WeakMap()),
  (re = new WeakSet()),
  (Hs = function () {
    l.subscribe('command:fetch:sort-start', (e) => {
      s(this, ut) === e.data.field && a(this, ne, Is).call(this, e.data.order);
    });
  }),
  (ne = new WeakSet()),
  (Is = function (e) {
    document.querySelectorAll('[ref="sorterArrow"]').forEach((o) => {
      o.classList.remove(`${s(this, O)}header-sorter-arrow-asc`, `${s(this, O)}header-sorter-arrow-desc`);
    }),
      this.arrowElement.classList.add(`${s(this, O)}header-sorter-arrow-${e}`);
  });
class nr {}
var Lt, ae, Ms, oe, Gs, he, Us;
class ar extends nr {
  constructor(e) {
    super();
    r(this, ae);
    r(this, oe);
    r(this, he);
    r(this, Lt, void 0);
    n(this, Lt, e);
    const i = `<div class="${s(this, Lt)}header-resizer"></div>`;
    (this.element = $(i)),
      this.element.addEventListener('mousedown', a(this, ae, Ms).bind(this)),
      document.addEventListener('mousemove', a(this, he, Us).bind(this)),
      document.addEventListener('mouseup', a(this, oe, Gs).bind(this));
  }
  getGui() {
    return this.element;
  }
  destroy() {}
}
(Lt = new WeakMap()),
  (ae = new WeakSet()),
  (Ms = function (e) {
    e.stopPropagation(),
      l.publish('info:resizing:mousedown', {
        target: e.target,
        context: new m('info:resizing:mousedown'),
      });
  }),
  (oe = new WeakSet()),
  (Gs = function () {
    l.publish('info:resizing:mouseup', {
      context: new m('info:resizing:mouseup'),
    });
  }),
  (he = new WeakSet()),
  (Us = function (e) {
    l.publish('command:resizing:start', {
      event: e,
      context: new m('command:resizing:start'),
    });
  });
var Ot, Tt, qt, Q, Z, tt, kt, x, At, le, Ws, ce, Qs, de, Vs, ue, Bs;
class or extends Os {
  constructor(e, i, o, c, d, u, g) {
    super(e, o, i, c, d, u);
    r(this, le);
    r(this, ce);
    r(this, de);
    r(this, ue);
    r(this, Ot, void 0);
    r(this, Tt, void 0);
    r(this, qt, void 0);
    r(this, Q, void 0);
    r(this, Z, void 0);
    r(this, tt, void 0);
    r(this, kt, void 0);
    r(this, x, void 0);
    r(this, At, void 0);
    n(this, Q, null),
      n(this, Z, null),
      n(this, tt, null),
      n(this, Ot, e),
      n(this, Tt, c),
      n(this, qt, d),
      (this.colIndex = i),
      (this.rowIndex = i),
      n(this, x, u),
      n(this, At, g),
      a(this, le, Ws).call(this);
  }
  render() {
    const e =
        /* HTML */
        `<div
          class="${s(this, x).cssPrefix}header-cell ${s(this, x).draggable
            ? `${s(this, x).cssPrefix}header-cell-draggable`
            : ''}"
          role="columnheader"
          ref="headerCell"
          style="left: ${s(this, Tt)}px; width: ${s(this, qt)}px"
        ></div>`,
      i = $(e);
    return (
      i.appendChild(s(this, kt).getGui()),
      s(this, Q) && i.appendChild(s(this, Q).getGui()),
      s(this, Z) && i.querySelector(`.${s(this, x).cssPrefix}header-cell-value`).appendChild(s(this, Z).getGui()),
      s(this, tt) && i.appendChild(s(this, tt).getGui()),
      i
    );
  }
}
(Ot = new WeakMap()),
  (Tt = new WeakMap()),
  (qt = new WeakMap()),
  (Q = new WeakMap()),
  (Z = new WeakMap()),
  (tt = new WeakMap()),
  (kt = new WeakMap()),
  (x = new WeakMap()),
  (At = new WeakMap()),
  (le = new WeakSet()),
  (Ws = function () {
    const e = s(this, x).columns[this.colIndex],
      i = s(this, x).cssPrefix,
      { field: o, filter: c, sort: d, resize: u } = e,
      g = s(this, At);
    if ((n(this, kt, new er(a(this, ce, Qs).call(this))), c)) {
      const q = e.filterRenderer,
        k = a(this, de, Vs).call(this, e);
      n(this, Q, new q(k));
    }
    d && n(this, Z, new rr(o, g, i)), u && n(this, tt, new ar(i));
  }),
  (ce = new WeakSet()),
  (Qs = function () {
    return {
      value: s(this, Ot),
      cssPrefix: s(this, x).cssPrefix,
    };
  }),
  (de = new WeakSet()),
  (Vs = function (e) {
    const i = e.field,
      { method: o, debounceTime: c, listOptions: d } = e.filterOptions;
    return {
      colDef: e,
      field: i,
      method: o,
      debounceTime: c,
      cssPrefix: s(this, x).cssPrefix,
      listOptions: d,
      filterChanged: () => a(this, ue, Bs).call(this),
    };
  }),
  (ue = new WeakSet()),
  (Bs = function () {
    const i = s(this, x).columns[this.colIndex].field,
      o = s(this, Q),
      c = new m('info:filtering:header-filter-changed'),
      d = o.getType(),
      u = o.getState(),
      g = o.isActive(),
      q = o.getFilterFn(),
      k = {
        context: c,
        field: i,
        type: d,
        state: u,
        isActive: g,
        filterFn: q,
      };
    l.publish('info:filtering:header-filter-changed', k);
  });
class hr {}
var et;
class lr extends hr {
  constructor(e) {
    super();
    r(this, et, void 0);
    (this.params = e), n(this, et, e.cssPrefix);
    const i =
      /* HTLM */
      `
      <div class="${s(this, et)}header-filter">
        <input type="text" class="${s(this, et)}header-filter-input">
      </div>
    `;
    (this.element = $(i)),
      (this.input = this.element.querySelector(`.${s(this, et)}header-filter-input`)),
      this.attachUiEvents(e);
  }
  getGui() {
    return this.element;
  }
  getType() {
    return 'text';
  }
  getState() {
    const e = this.input ? this.input.value : null;
    return {
      method: this.params.method,
      searchTerm: e,
    };
  }
  isActive() {
    return !!(this.input ? this.input.value : null);
  }
  getFilterFn() {
    const e = this.params.colDef.filterOptions;
    return (i, o) => {
      let c = i.searchTerm;
      const d = i.method,
        u = e.caseSensitive;
      switch (((o = u ? o : o.toString().toLowerCase()), (c = u ? c : c.toString().toLowerCase()), d)) {
        case 'includes':
          return o.includes(c);
        default:
          return !1;
      }
    };
  }
  attachUiEvents(e) {
    if (this.input) {
      const i = Yi(() => e.filterChanged(), e.debounceTime);
      this.input.addEventListener('keyup', () => i());
    }
  }
  destroy() {}
}
et = new WeakMap();
class Xs {
  constructor(t, e, i) {
    (this.index = t), (this.cells = e);
    const o =
      /* HTML */
      `<div
        class="${i.cssPrefix}-row"
        role="row"
        ref="row"
        style="height: ${i.rowHeight}px; top: ${t * i.rowHeight}px"
      ></div>`;
    this.element = $(o);
  }
  render() {
    const t = document.createDocumentFragment();
    return this.cells.forEach((e) => t.appendChild(e.render())), this.element.appendChild(t), this.element;
  }
}
class cr extends Xs {
  constructor(t, e, i) {
    super(t, e, i), (this.index = t), (this.cells = e);
    const o =
      /* HTML */
      `<div
        class="${i.cssPrefix}header-row ${i.draggable ? `${i.cssPrefix}header-row-draggable` : ''}"
        role="row"
        ref="headerRow"
        style="height: ${i.rowHeight}px"
      ></div>`;
    this.element = $(o);
  }
  render() {
    const t = document.createDocumentFragment();
    return this.cells.forEach((e) => t.appendChild(e.render())), this.element.appendChild(t), this.element;
  }
}
class dr {
  constructor(t) {
    this.options = t;
    const e =
      /* HTML */
      `<div class="data-den-pagination">
        <div class="data-den-pagination-content">
          <button class="data-den-pagination-first-button"><<</button>
          <button class="data-den-pagination-prev-button"><</button>
          <div class="data-den-pagination-info">1-10 ${this.options.ofText || 'of'} 100</div>
          <button class="data-den-pagination-next-button">></button>
          <button class="data-den-pagination-last-button">>></button>
        </div>
      </div>`;
    (this.element = $(e)),
      (this.buttons = {
        first: this.element.querySelector('.data-den-pagination-first-button'),
        prev: this.element.querySelector('.data-den-pagination-prev-button'),
        next: this.element.querySelector('.data-den-pagination-next-button'),
        last: this.element.querySelector('.data-den-pagination-last-button'),
      }),
      this.attachUiEvents(),
      this.subscribeToEvents();
  }
  getGui() {
    return this.element;
  }
  attachUiEvents() {
    this.buttons.first.addEventListener('click', () => {
      l.publish('command:pagination:load-first-page:start', {
        context: new m('command:pagination:load-first-page:start'),
      });
    }),
      this.buttons.prev.addEventListener('click', () => {
        l.publish('command:pagination:load-prev-page:start', {
          context: new m('command:pagination:load-prev-page:start'),
        });
      }),
      this.buttons.next.addEventListener('click', () => {
        l.publish('command:pagination:load-next-page:start', {
          context: new m('command:pagination:load-next-page:start'),
        });
      }),
      this.buttons.last.addEventListener('click', () => {
        l.publish('command:pagination:load-last-page:start', {
          context: new m('command:pagination:load-last-page:start'),
        });
      });
  }
  destroy() {
    var t;
    (this.element.innerHTML = ''), (t = document.querySelector('.data-den-pagination')) == null || t.remove();
  }
  subscribeToEvents() {
    l.subscribe('info:pagination:info-change:done', (t) => {
      this.updateInfo(t.data.firstRowIndex, t.data.lastRowIndex, t.data.allTotalRows),
        this.updateButtonsState(t.data.firstRowIndex, t.data.lastRowIndex, t.data.allTotalRows);
    });
  }
  updateButtonsState(t, e, i) {
    Object.values(this.buttons).forEach((o) => (o.disabled = !1)),
      t === 0 && ((this.buttons.first.disabled = !0), (this.buttons.prev.disabled = !0)),
      e === i && ((this.buttons.next.disabled = !0), (this.buttons.last.disabled = !0));
  }
  updateInfo(t, e, i) {
    const o = this.element.querySelector('.data-den-pagination-info');
    o.innerHTML = `${t + 1}-${e} ${this.options.ofText || 'of'} ${i}`;
  }
  updatePageSize(t) {
    l.publish('info:pagination:page-size-change:done', {
      pageSize: t,
      context: new m('info:pagination:page-size-change:done'),
    });
  }
}
var A, p, Ht, H, V, It, st, ft, fe, Ns, ge, _s, me, js, gt, jt, pe, Js, be, Ks, we, Ys, ve, Zs, xe, ti, De, ei;
class ur {
  constructor(t, e) {
    r(this, fe);
    r(this, ge);
    r(this, me);
    r(this, gt);
    r(this, pe);
    r(this, be);
    r(this, we);
    r(this, ve);
    r(this, xe);
    r(this, De);
    r(this, A, void 0);
    r(this, p, void 0);
    r(this, Ht, void 0);
    r(this, H, void 0);
    r(this, V, void 0);
    r(this, It, void 0);
    r(this, st, []);
    r(this, ft, null);
    n(this, A, t),
      n(this, p, e),
      n(this, Ht, [...s(this, p).columns]),
      n(this, H, [...s(this, p).columns]),
      n(this, V, []),
      n(this, It, a(this, fe, Ns).call(this, e.columns, '')),
      e.pagination && n(this, ft, new dr(e.paginationOptions)),
      this.renderTable(),
      a(this, ve, Zs).call(this),
      a(this, xe, ti).call(this),
      a(this, me, js).call(this);
  }
  renderTable() {
    const t = a(this, pe, Js).call(this);
    t.appendChild(a(this, be, Ks).call(this)),
      t.appendChild(a(this, we, Ys).call(this)),
      s(this, ft) && t.appendChild(s(this, ft).getGui()),
      s(this, A).appendChild(t),
      a(this, gt, jt).call(this);
  }
}
(A = new WeakMap()),
  (p = new WeakMap()),
  (Ht = new WeakMap()),
  (H = new WeakMap()),
  (V = new WeakMap()),
  (It = new WeakMap()),
  (st = new WeakMap()),
  (ft = new WeakMap()),
  (fe = new WeakSet()),
  (Ns = function (t, e) {
    const o = t.map((c, d) => {
      const u = c.headerName,
        g = t.slice(0, d).reduce((k, St) => k + (St.width || 120), 0),
        q = t[d].width || 120;
      return new or(u, d, 0, g, q, s(this, p), e);
    });
    return new cr(0, o, s(this, p));
  }),
  (ge = new WeakSet()),
  (_s = function (t) {
    return t.map((e, i) => {
      const o = Object.entries(e).map(([, c], d) => {
        const u = s(this, V).length ? s(this, V).indexOf(d) : d,
          g = s(this, H)
            .slice(0, u)
            .reduce((k, St) => k + (St.width || 120), 0),
          q = s(this, H)[u].width || 120;
        return new Os(c, d, i, g, q, s(this, p));
      });
      return new Xs(i, o, s(this, p));
    });
  }),
  (me = new WeakSet()),
  (js = function () {
    l.publish('command:fetch:start', {
      caller: this,
      context: new m('command:fetch:start'),
    });
  }),
  (gt = new WeakSet()),
  (jt = function () {
    const t = s(this, A).querySelector(`.${s(this, p).cssPrefix}grid`),
      e = s(this, A).querySelector(`.${s(this, p).cssPrefix}header`),
      i = s(this, A).querySelector(`.${s(this, p).cssPrefix}grid-rows`),
      o = s(this, H).reduce((d, u) => d + (u.width || 120), 0),
      c = s(this, p).rowHeight * s(this, st).length;
    (t.style.width = `${o}px`), (e.style.width = `${o}px`), (i.style.width = `${o}px`), (i.style.height = `${c}px`);
  }),
  (pe = new WeakSet()),
  (Js = function () {
    const t = document.createElement('div');
    return t.classList.add(`${s(this, p).cssPrefix}grid`), t;
  }),
  (be = new WeakSet()),
  (Ks = function () {
    const t = document.createElement('div');
    t.classList.add(`${s(this, p).cssPrefix}header`), t.setAttribute('role', 'rowgroup');
    const e = s(this, It).render();
    return t.appendChild(e), t;
  }),
  (we = new WeakSet()),
  (Ys = function () {
    const t = document.createElement('div');
    t.classList.add(`${s(this, p).cssPrefix}grid-rows`), t.setAttribute('role', 'rowgroup');
    const e = document.createDocumentFragment();
    return s(this, st).forEach((i) => e.appendChild(i.render())), t.appendChild(e), t;
  }),
  (ve = new WeakSet()),
  (Zs = function () {
    l.subscribe('info:dragging:columns-reorder:done', (t) => {
      n(this, V, t.data.columnsOrder),
        n(
          this,
          H,
          s(this, V).map((e) => s(this, Ht)[e])
        );
    }),
      l.subscribe('info:resizing:start', (t) => {
        (s(this, H)[t.data.currentColIndex].width = t.data.newCurrentColWidth), a(this, gt, jt).call(this);
      });
  }),
  (xe = new WeakSet()),
  (ti = function () {
    l.subscribe('info:fetch:done', (t) => {
      a(this, De, ei).call(this, t);
    });
  }),
  (De = new WeakSet()),
  (ei = function (t) {
    const { rows: e } = t.data,
      i = document.createDocumentFragment();
    n(this, st, a(this, ge, _s).call(this, e)), s(this, st).forEach((c) => i.appendChild(c.render()));
    const o = s(this, A).querySelector(`.${s(this, p).cssPrefix}grid-rows`);
    (o.innerHTML = ''), o.appendChild(i), a(this, gt, jt).call(this);
  });
var Mt, D, C, E, Ce, si, I, Y, Ee, ii, Pe, ri, Se, ni, ye, ai, Fe, oi;
class fr {
  constructor(t) {
    r(this, Ce);
    r(this, I);
    r(this, Ee);
    r(this, Pe);
    r(this, Se);
    r(this, ye);
    r(this, Fe);
    r(this, Mt, void 0);
    r(this, D, void 0);
    r(this, C, void 0);
    r(this, E, void 0);
    n(this, Mt, t.paginationOptions),
      n(this, D, 0),
      n(this, E, 0),
      n(this, C, s(this, Mt).pageSize || 10),
      a(this, Ce, si).call(this);
  }
}
(Mt = new WeakMap()),
  (D = new WeakMap()),
  (C = new WeakMap()),
  (E = new WeakMap()),
  (Ce = new WeakSet()),
  (si = function () {
    l.subscribe('command:pagination:load-first-page:start', () => {
      a(this, Pe, ri).call(this);
    }),
      l.subscribe('command:pagination:load-prev-page:start', () => {
        a(this, Se, ni).call(this);
      }),
      l.subscribe('command:pagination:load-next-page:start', () => {
        a(this, ye, ai).call(this);
      }),
      l.subscribe('command:pagination:load-last-page:start', () => {
        a(this, Fe, oi).call(this);
      }),
      l.subscribe('info:pagination:page-size-change:done', (t) => {
        n(this, C, t.data.pageSize), n(this, D, 0), a(this, I, Y).call(this);
      }),
      l.subscribe('info:fetch:done', (t) => {
        s(this, E) || s(this, E) === t.data.rows.length || (n(this, E, t.data.rows.length), a(this, I, Y).call(this));
      });
  }),
  (I = new WeakSet()),
  (Y = function () {
    const t = s(this, D) * s(this, C),
      e = Math.min(s(this, E), s(this, D) * s(this, C) + s(this, C));
    a(this, Ee, ii).call(this, t, e, s(this, E));
  }),
  (Ee = new WeakSet()),
  (ii = function (t, e, i) {
    l.publish('info:pagination:info-change:done', {
      firstRowIndex: t,
      lastRowIndex: e,
      allTotalRows: i,
      pageSize: s(this, C),
      context: new m('info:pagination:info-change:done'),
    });
  }),
  (Pe = new WeakSet()),
  (ri = function () {
    n(this, D, 0), a(this, I, Y).call(this);
  }),
  (Se = new WeakSet()),
  (ni = function () {
    s(this, D) !== 0 && (ys(this, D)._--, a(this, I, Y).call(this));
  }),
  (ye = new WeakSet()),
  (ai = function () {
    s(this, D) * s(this, C) + s(this, C) >= s(this, E) || (ys(this, D)._++, a(this, I, Y).call(this));
  }),
  (Fe = new WeakSet()),
  (oi = function () {
    s(this, E) / s(this, C) - 1 >= s(this, E) ||
      (n(this, D, Math.ceil(s(this, E) / s(this, C) - 1)), a(this, I, Y).call(this));
  });
var M,
  Gt,
  mt,
  B,
  X,
  G,
  y,
  f,
  U,
  F,
  S,
  b,
  W,
  pt,
  N,
  it,
  rt,
  nt,
  Re,
  hi,
  $e,
  li,
  ze,
  ci,
  Ut,
  Fs,
  Wt,
  Rs,
  Le,
  di,
  Oe,
  ui,
  Te,
  fi,
  qe,
  gi,
  ke,
  mi,
  Ae,
  pi,
  He,
  bi,
  Ie,
  wi,
  Me,
  vi,
  Ge,
  xi,
  Ue,
  Di,
  We,
  Ci,
  Qe,
  Ei,
  Ve,
  Pi,
  Qt,
  $s,
  Be,
  Si,
  bt,
  Jt,
  Vt,
  zs,
  wt,
  Kt,
  Xe,
  yi,
  Ne,
  Fi,
  _e,
  Ri,
  je,
  $i,
  Je,
  zi;
class gr {
  constructor(t, e) {
    r(this, Re);
    r(this, $e);
    r(this, ze);
    r(this, Ut);
    r(this, Wt);
    r(this, Le);
    r(this, Oe);
    r(this, Te);
    r(this, qe);
    r(this, ke);
    r(this, Ae);
    r(this, He);
    r(this, Ie);
    r(this, Me);
    r(this, Ge);
    r(this, Ue);
    r(this, We);
    r(this, Qe);
    r(this, Ve);
    r(this, Qt);
    r(this, Be);
    r(this, bt);
    r(this, Vt);
    r(this, wt);
    r(this, Xe);
    r(this, Ne);
    r(this, _e);
    r(this, je);
    r(this, Je);
    r(this, M, void 0);
    r(this, Gt, void 0);
    r(this, mt, void 0);
    r(this, B, void 0);
    r(this, X, void 0);
    r(this, G, void 0);
    r(this, y, void 0);
    r(this, f, void 0);
    r(this, U, void 0);
    r(this, F, void 0);
    r(this, S, void 0);
    r(this, b, void 0);
    r(this, W, void 0);
    r(this, pt, void 0);
    r(this, N, void 0);
    r(this, it, void 0);
    r(this, rt, void 0);
    r(this, nt, void 0);
    n(this, M, t),
      n(this, Gt, e),
      n(this, mt, !1),
      n(this, B, !1),
      n(this, X, null),
      n(this, G, []),
      n(this, y, -1),
      n(this, f, -1),
      n(this, U, -1),
      n(this, F, []),
      n(this, S, []),
      n(this, b, []),
      n(this, W, []),
      n(this, pt, 0),
      n(this, N, e.cssPrefix),
      n(this, it, () => {}),
      n(this, rt, () => {}),
      n(this, nt, () => {}),
      a(this, Re, hi).call(this);
  }
  init() {
    a(this, qe, gi).call(this),
      a(this, $e, li).call(this),
      this.update(),
      a(this, ze, ci).call(this),
      a(this, Te, fi).call(this),
      a(this, ke, mi).call(this),
      n(this, mt, !0);
  }
  dispose() {
    a(this, _e, Ri).call(this), a(this, je, $i).call(this);
  }
  update() {
    const t = [...a(this, Le, di).call(this)];
    n(
      this,
      F,
      s(this, W).map((e) => t[e])
    );
  }
}
(M = new WeakMap()),
  (Gt = new WeakMap()),
  (mt = new WeakMap()),
  (B = new WeakMap()),
  (X = new WeakMap()),
  (G = new WeakMap()),
  (y = new WeakMap()),
  (f = new WeakMap()),
  (U = new WeakMap()),
  (F = new WeakMap()),
  (S = new WeakMap()),
  (b = new WeakMap()),
  (W = new WeakMap()),
  (pt = new WeakMap()),
  (N = new WeakMap()),
  (it = new WeakMap()),
  (rt = new WeakMap()),
  (nt = new WeakMap()),
  (Re = new WeakSet()),
  (hi = function () {
    l.subscribe('info:fetch:done', () => {
      s(this, mt) ? this.update() : this.init();
    });
  }),
  ($e = new WeakSet()),
  (li = function () {
    n(this, X, s(this, M).querySelector('[ref="headerRow"]')),
      n(this, G, Array.from(s(this, M).querySelectorAll('[ref="headerCell"]')));
  }),
  (ze = new WeakSet()),
  (ci = function () {
    n(this, S, [...a(this, Wt, Rs).call(this)]),
      n(
        this,
        b,
        s(this, S).map((t) => t.left)
      ),
      n(this, pt, s(this, X).getBoundingClientRect().left);
  }),
  (Ut = new WeakSet()),
  (Fs = function (t) {
    return t - s(this, pt);
  }),
  (Wt = new WeakSet()),
  (Rs = function () {
    return s(this, G).map((t) => ({
      left: parseFloat(t.style.left),
      width: parseFloat(t.style.width),
    }));
  }),
  (Le = new WeakSet()),
  (di = function () {
    return s(this, G).map((t, e) => [...a(this, Oe, ui).call(this, e)]);
  }),
  (Oe = new WeakSet()),
  (ui = function (t) {
    const e = s(this, G)[t],
      i = s(this, M).querySelectorAll('[ref="row"]'),
      o = Array.from(i).map((c) => c.querySelectorAll('[ref="cell"]')[t]);
    return [e, ...o];
  }),
  (Te = new WeakSet()),
  (fi = function () {
    n(this, nt, a(this, Ae, pi).bind(this)),
      n(this, it, a(this, Me, vi).bind(this)),
      n(this, rt, a(this, Ge, xi).bind(this)),
      s(this, X).addEventListener('mousedown', s(this, nt)),
      s(this, M).addEventListener('mousemove', s(this, it)),
      document.addEventListener('mouseup', s(this, rt));
  }),
  (qe = new WeakSet()),
  (gi = function () {
    n(
      this,
      W,
      s(this, Gt).columns.map((t, e) => e)
    );
  }),
  (ke = new WeakSet()),
  (mi = function () {
    l.subscribe('info:resizing:done', () => {
      const t = [...a(this, Wt, Rs).call(this)];
      n(
        this,
        S,
        s(this, W).map((e) => t[e])
      ),
        n(
          this,
          b,
          s(this, S).map((e) => e.left)
        );
    });
  }),
  (Ae = new WeakSet()),
  (pi = function (t) {
    t.stopPropagation(), a(this, He, bi).call(this, a(this, Ut, Fs).call(this, t.pageX));
  }),
  (He = new WeakSet()),
  (bi = function (t) {
    a(this, Ie, wi).call(this, t), a(this, Ue, Di).call(this), a(this, We, Ci).call(this);
  }),
  (Ie = new WeakSet()),
  (wi = function (t) {
    n(this, B, !0), n(this, y, a(this, Qt, $s).call(this, s(this, b), t));
  }),
  (Me = new WeakSet()),
  (vi = function (t) {
    if (!s(this, B)) return;
    const e = a(this, Ut, Fs).call(this, t.pageX);
    n(this, f, a(this, Qt, $s).call(this, s(this, b), e));
    const i = s(this, S)[s(this, y)].width,
      o = a(this, Vt, zs).call(this, s(this, y));
    if (
      (a(this, bt, Jt).call(this) === 'right' && s(this, b)[s(this, f)] + o > e) ||
      (a(this, bt, Jt).call(this) === 'left' && s(this, b)[s(this, f)] + i < e)
    ) {
      n(this, f, s(this, y));
      return;
    }
    s(this, U) !== s(this, f) && s(this, f) !== -1 && (a(this, Be, Si).call(this), n(this, U, s(this, f)));
  }),
  (Ge = new WeakSet()),
  (xi = function () {
    s(this, B) && a(this, Xe, yi).call(this);
  }),
  (Ue = new WeakSet()),
  (Di = function () {
    s(this, F).forEach((t) => {
      t.forEach((e) => {
        e.classList.add(`${s(this, N)}dragging`);
      });
    });
  }),
  (We = new WeakSet()),
  (Ci = function () {
    s(this, F)[s(this, y)].forEach((t) => {
      t.classList.add(`${s(this, N)}active`);
    });
  }),
  (Qe = new WeakSet()),
  (Ei = function () {
    s(this, F).forEach((t) => {
      t.forEach((e) => {
        e.classList.remove(`${s(this, N)}active`);
      });
    });
  }),
  (Ve = new WeakSet()),
  (Pi = function () {
    s(this, F).forEach((t) => {
      t.forEach((e) => {
        e.classList.remove(`${s(this, N)}dragging`);
      });
    });
  }),
  (Qt = new WeakSet()),
  ($s = function (t, e) {
    for (let i = 0; i < t.length - 1; i++) if (t[i] < e && t[i + 1] >= e) return i;
    return t.length - 1;
  }),
  (Be = new WeakSet()),
  (Si = function () {
    if (s(this, y) === s(this, f) && s(this, U) === -1) return;
    const t = a(this, bt, Jt).call(this),
      e = t === 'right' ? s(this, f) - 1 : s(this, f) + 1,
      i = a(this, Vt, zs).call(this, e);
    t === 'right'
      ? (s(this, b)[s(this, f)] = s(this, b)[s(this, f)] + i)
      : (s(this, b)[s(this, f) + 1] = s(this, b)[s(this, f) + 1] - i),
      a(this, wt, Kt).call(this, s(this, S), e, s(this, f)),
      a(this, wt, Kt).call(this, s(this, F), e, s(this, f)),
      a(this, wt, Kt).call(this, s(this, W), e, s(this, f)),
      s(this, F).forEach((o, c) => {
        o.forEach((d) => {
          d.style.left = `${s(this, b)[c]}px`;
        });
      });
  }),
  (bt = new WeakSet()),
  (Jt = function () {
    return s(this, U) > s(this, f) ? 'left' : 'right';
  }),
  (Vt = new WeakSet()),
  (zs = function (t) {
    const e = s(this, S)[t].width;
    return s(this, S)[s(this, f)].width - e;
  }),
  (wt = new WeakSet()),
  (Kt = function (t, e, i) {
    if (e === -1) return;
    const o = t[e];
    (t[e] = t[i]), (t[i] = o);
  }),
  (Xe = new WeakSet()),
  (yi = function () {
    n(this, B, !1),
      a(this, Ve, Pi).call(this),
      a(this, Qe, Ei).call(this),
      a(this, Ne, Fi).call(this),
      a(this, Je, zi).call(this);
  }),
  (Ne = new WeakSet()),
  (Fi = function () {
    n(this, y, -1), n(this, f, -1), n(this, U, -1);
  }),
  (_e = new WeakSet()),
  (Ri = function () {
    s(this, G).forEach((t) => {
      t.classList.remove('data-den-header-cell-draggable');
    });
  }),
  (je = new WeakSet()),
  ($i = function () {
    s(this, X).removeEventListener('mousedown', s(this, nt)),
      s(this, M).removeEventListener('mousemove', s(this, it)),
      document.removeEventListener('mouseup', s(this, rt));
  }),
  (Je = new WeakSet()),
  (zi = function () {
    l.publish('info:dragging:columns-reorder:done', {
      columnsOrder: s(this, W),
      context: new m('info:dragging:columns-reorder:done'),
    });
  });
var vt,
  Ke,
  xt,
  _,
  R,
  Dt,
  Ct,
  P,
  at,
  ot,
  Et,
  j,
  Ye,
  Li,
  Ze,
  Oi,
  ts,
  Ti,
  es,
  qi,
  ss,
  ki,
  is,
  Ai,
  rs,
  Hi,
  ns,
  Ii,
  as,
  Mi,
  Bt,
  Ls;
class mr {
  constructor(t, e) {
    r(this, Ye);
    r(this, Ze);
    r(this, ts);
    r(this, es);
    r(this, ss);
    r(this, is);
    r(this, rs);
    r(this, ns);
    r(this, as);
    r(this, Bt);
    r(this, vt, void 0);
    r(this, Ke, void 0);
    r(this, xt, void 0);
    r(this, _, void 0);
    r(this, R, void 0);
    r(this, Dt, void 0);
    r(this, Ct, void 0);
    r(this, P, void 0);
    r(this, at, void 0);
    r(this, ot, void 0);
    r(this, Et, void 0);
    r(this, j, void 0);
    n(this, vt, t),
      n(this, Ke, e),
      n(this, xt, !1),
      n(this, _, !1),
      n(this, R, []),
      n(this, j, []),
      n(this, Dt, []),
      n(this, Ct, []),
      n(this, P, null),
      n(this, at, null),
      n(this, ot, -1),
      n(this, Et, []),
      a(this, Ye, Li).call(this);
  }
  init() {
    n(this, R, Array.from(s(this, vt).querySelectorAll('[ref="headerCell"]'))),
      n(this, Dt, [...s(this, R)]),
      n(
        this,
        j,
        s(this, R).map((t, e) => e)
      ),
      a(this, Ze, Oi).call(this),
      a(this, ts, Ti).call(this),
      n(this, xt, !0);
  }
}
(vt = new WeakMap()),
  (Ke = new WeakMap()),
  (xt = new WeakMap()),
  (_ = new WeakMap()),
  (R = new WeakMap()),
  (Dt = new WeakMap()),
  (Ct = new WeakMap()),
  (P = new WeakMap()),
  (at = new WeakMap()),
  (ot = new WeakMap()),
  (Et = new WeakMap()),
  (j = new WeakMap()),
  (Ye = new WeakSet()),
  (Li = function () {
    l.subscribe('info:fetch:done', () => {
      s(this, xt) || this.init(), n(this, Ct, Array.from(s(this, vt).querySelectorAll('[ref="row"]')));
    });
  }),
  (Ze = new WeakSet()),
  (Oi = function () {
    l.subscribe('info:resizing:mousedown', (t) => a(this, es, qi).call(this, t)),
      l.subscribe('info:resizing:mouseup', () => a(this, ss, ki).call(this)),
      l.subscribe('command:resizing:start', (t) => a(this, is, Ai).call(this, t));
  }),
  (ts = new WeakSet()),
  (Ti = function () {
    l.subscribe('info:dragging:columns-reorder:done', (t) => {
      n(this, j, t.data.columnsOrder),
        n(
          this,
          R,
          s(this, j).map((e) => s(this, Dt)[e])
        );
    });
  }),
  (es = new WeakSet()),
  (qi = function (t) {
    n(this, P, t.data.target.parentElement),
      n(this, at, a(this, Bt, Ls).call(this, s(this, P))),
      !(!s(this, P) || !s(this, P).parentElement) &&
        (n(this, _, !0), n(this, ot, s(this, R).indexOf(s(this, P))), n(this, Et, a(this, as, Mi).call(this)));
  }),
  (ss = new WeakSet()),
  (ki = function () {
    s(this, _) &&
      (n(this, _, !1),
      l.publish('info:resizing:done', {
        context: new m('info:resizing:done'),
      }));
  }),
  (is = new WeakSet()),
  (Ai = function (t) {
    !s(this, _) ||
      !s(this, P) ||
      (a(this, rs, Hi).call(this, t.data.event.movementX),
      a(this, ns, Ii).call(this, t.data.event.movementX),
      l.publish('info:resizing:start', {
        currentColIndex: s(this, ot),
        newCurrentColWidth: parseInt(s(this, P).style.width, 10),
        context: new m('info:resizing:start'),
      }));
  }),
  (rs = new WeakSet()),
  (Hi = function (t) {
    var o;
    const e = (o = s(this, P)) == null ? void 0 : o.style.width,
      i = parseInt(e || '0') + t;
    s(this, at) && s(this, at).forEach((c) => (c.style.width = `${i}px`));
  }),
  (ns = new WeakSet()),
  (Ii = function (t) {
    s(this, P) &&
      s(this, Et).forEach((e) => {
        const i = e.style.left,
          o = parseInt(i || '0') + t;
        a(this, Bt, Ls)
          .call(this, e)
          .forEach((d) => (d.style.left = `${o}px`));
      });
  }),
  (as = new WeakSet()),
  (Mi = function () {
    return s(this, R).slice(s(this, ot) + 1);
  }),
  (Bt = new WeakSet()),
  (Ls = function (t) {
    if (!t || !t.parentElement) return [];
    const e = s(this, j)[s(this, R).indexOf(t)],
      i = s(this, Ct).map((o) => o.querySelectorAll('[ref="cell"]')[e]);
    return [t, ...i];
  });
var os, Gi, hs, Ui, ls, Wi;
class pr {
  constructor(t) {
    r(this, os);
    r(this, hs);
    r(this, ls);
    (this.activeHeaderFilters = {}),
      (this.options = t),
      (this.activeQuickFilter = { searchTerm: '', filterFn: t.quickFilterOptions.filterFn }),
      l.subscribe('info:filtering:header-filter-changed', a(this, os, Gi).bind(this)),
      l.subscribe('info:filtering:quick-filter-changed', a(this, ls, Wi).bind(this));
  }
}
(os = new WeakSet()),
  (Gi = function (t) {
    const { field: e, type: i, state: o, isActive: c, filterFn: d } = t.data,
      u = { type: i, state: o, filterFn: d };
    a(this, hs, Ui).call(this, e, u, c);
    const g = {
      context: new m('info:filtering:active-filters-changed'),
      filters: this.activeHeaderFilters,
    };
    l.publish('info:filtering:active-filters-changed', g);
  }),
  (hs = new WeakSet()),
  (Ui = function (t, e, i) {
    i ? (this.activeHeaderFilters[t] = e) : delete this.activeHeaderFilters[t];
  }),
  (ls = new WeakSet()),
  (Wi = function (t) {
    const { searchTerm: e } = t.data;
    this.activeQuickFilter.searchTerm = e;
    const i = {
      context: new m('info:filtering:active-quick-filter-changed'),
      filter: this.activeQuickFilter,
    };
    l.publish('info:filtering:active-quick-filter-changed', i);
  });
var ht;
class Ps {
  static on(t, e) {
    s(this, ht)[t] || (s(this, ht)[t] = []), s(this, ht)[t].push(e);
  }
  static triggerEvent(t, e) {
    var o;
    const i = {
      name: t,
      preventDefault: () => {
        i.defaultPrevented = !0;
      },
      defaultPrevented: !1,
      ...e,
    };
    return (
      (o = s(this, ht)[t]) == null ||
        o.forEach((c) => {
          c(i);
        }),
      i
    );
  }
}
(ht = new WeakMap()), r(Ps, ht, {});
class br {
  constructor(t) {
    (this.data = {}), (this.data = { ...this.data, ...t });
  }
  getValue(t) {
    return this.data[t];
  }
}
var T, w;
class wr {
  constructor() {
    r(this, T, void 0);
    r(this, w, void 0);
    n(this, T, ''),
      n(this, w, 'asc'),
      l.subscribe('command:sorting:start', (t) => {
        const e = new br({ field: s(this, T), order: s(this, w) });
        if (s(this, T) === t.data.field)
          switch (s(this, w)) {
            case 'asc':
              n(this, w, 'desc');
              break;
            case 'desc':
              n(this, w, '');
              break;
            default:
              n(this, w, 'asc');
              break;
          }
        else n(this, w, 'asc');
        if (
          (t.data.order && n(this, w, t.data.order),
          n(this, T, t.data.field),
          Ps.triggerEvent('sortingStart', {
            field: s(this, T),
            order: s(this, w),
            sortFn: this.sort,
          }).defaultPrevented)
        ) {
          n(this, T, e.getValue('field')), n(this, w, e.getValue('order'));
          return;
        }
        l.publish('command:fetch:sort-start', {
          caller: this,
          context: t.context,
          field: s(this, T),
          order: s(this, w),
          sortFn: this.sort,
        });
      });
  }
  sort(t, e, i) {
    return i
      ? t.sort((c, d) => {
          let u = c[e],
            g = d[e];
          return (
            typeof u == 'string' && (u = u.toLowerCase()),
            typeof g == 'string' && (g = g.toLowerCase()),
            u < g ? (i === 'desc' ? 1 : -1) : u > g ? (i === 'desc' ? -1 : 1) : 0
          );
        })
      : t;
  }
}
(T = new WeakMap()), (w = new WeakMap());
class Qi {}
var Xt;
class vr extends Qi {
  constructor(e) {
    super();
    r(this, Xt, void 0);
    n(this, Xt, e);
  }
  getData(e) {
    return this.filterData(Yt(s(this, Xt)), e.filtersOptions)
      .then((i) => this.quickFilterData(i, e.quickFilterOptions))
      .then((i) => this.sortData(i, e.sortingOptions))
      .then((i) => this.paginateData(i, e.paginationOptions));
  }
  filterData(e, i) {
    if (!i) return Promise.resolve(e);
    const c = Object.keys(i.filters).reduce(
      (d, u) =>
        d.filter((g) => {
          const q = i.filters[u].filterFn,
            k = i.filters[u].state,
            St = g[u];
          return q(k, St);
        }),
      e
    );
    return Promise.resolve(c);
  }
  paginateData(e, i) {
    if (!i) return Promise.resolve(e);
    const { firstRowIndex: o, lastRowIndex: c } = i,
      d = e.slice(o, c);
    return Promise.resolve(d);
  }
  sortData(e, i) {
    if (!i) return Promise.resolve(e);
    const { field: o, order: c, sortFn: d } = i,
      u = d(e, o, c);
    return Promise.resolve(u);
  }
  quickFilterData(e, i) {
    if (!i) return Promise.resolve(e);
    const { searchTerm: o, filterFn: c } = i,
      d = e.filter((u) => c(o, Object.values(u)));
    return Promise.resolve(d);
  }
}
Xt = new WeakMap();
class xr extends Qi {
  getData(t) {
    return fetch('url' + new URLSearchParams(t)).then((e) => e.json());
  }
  sortData(t, e) {
    return fetch('url' + new URLSearchParams(e)).then((i) => i.json());
  }
  filterData(t, e) {
    return fetch('url' + new URLSearchParams(e)).then((i) => i.json());
  }
  quickFilterData(t, e) {
    return fetch('url' + new URLSearchParams(e)).then((i) => i.json());
  }
  paginateData(t, e) {
    return fetch('url' + new URLSearchParams(e)).then((i) => i.json());
  }
}
var Nt, v, J, lt, K, ct, cs, Vi, ds, Bi, us, Xi, fs, Ni, gs, _i;
class Dr {
  constructor(t) {
    r(this, J);
    r(this, K);
    r(this, cs);
    r(this, ds);
    r(this, us);
    r(this, fs);
    r(this, gs);
    r(this, Nt, void 0);
    r(this, v, void 0);
    n(this, Nt, t),
      n(this, v, {}),
      a(this, cs, Vi).call(this),
      a(this, ds, Bi).call(this),
      a(this, us, Xi).call(this),
      a(this, fs, Ni).call(this),
      a(this, gs, _i).call(this);
  }
}
(Nt = new WeakMap()),
  (v = new WeakMap()),
  (J = new WeakSet()),
  (lt = function (t) {
    return s(this, Nt).getData(t);
  }),
  (K = new WeakSet()),
  (ct = function (t, e) {
    const i = {
      caller: this,
      context: t,
      rows: e,
    };
    l.publish('info:fetch:done', i);
  }),
  (cs = new WeakSet()),
  (Vi = function () {
    l.subscribe('command:fetch:start', (t) => {
      a(this, J, lt)
        .call(this, s(this, v))
        .then((e) => {
          a(this, K, ct).call(this, t.context, e);
        });
    });
  }),
  (ds = new WeakSet()),
  (Bi = function () {
    l.subscribe('command:fetch:sort-start', (t) => {
      (s(this, v).sortingOptions = {
        field: t.data.field,
        order: t.data.order,
        sortFn: t.data.sortFn,
      }),
        a(this, J, lt)
          .call(this, s(this, v))
          .then((e) => {
            a(this, K, ct).call(this, t.context, e), Ps.triggerEvent('sortingDone', s(this, v).sortingOptions);
          });
    });
  }),
  (us = new WeakSet()),
  (Xi = function () {
    l.subscribe('info:filtering:active-quick-filter-changed', (t) => {
      (s(this, v).quickFilterOptions = {
        searchTerm: t.data.filter.searchTerm,
        filterFn: t.data.filter.filterFn,
      }),
        a(this, J, lt)
          .call(this, s(this, v))
          .then((e) => {
            a(this, K, ct).call(this, t.context, e);
          });
    });
  }),
  (fs = new WeakSet()),
  (Ni = function () {
    l.subscribe('info:filtering:active-filters-changed', (t) => {
      (s(this, v).filtersOptions = {
        filters: t.data.filters,
      }),
        a(this, J, lt)
          .call(this, s(this, v))
          .then((e) => {
            a(this, K, ct).call(this, t.context, e);
          });
    });
  }),
  (gs = new WeakSet()),
  (_i = function () {
    l.subscribe('info:pagination:info-change:done', (t) => {
      (s(this, v).paginationOptions = {
        firstRowIndex: t.data.firstRowIndex,
        lastRowIndex: t.data.lastRowIndex,
      }),
        a(this, J, lt)
          .call(this, s(this, v))
          .then((e) => {
            a(this, K, ct).call(this, t.context, e);
          });
    });
  });
const Cr = {
    pageSize: 10,
    pageSizeOptions: [5, 10, 25],
    ofText: 'of',
  },
  Er = (h, t) => ((h = h.toString().toLowerCase()), (t = t.toString().toLowerCase()), t.includes(h)),
  Pr = {
    filterFn: Er,
  },
  Sr = (h) => {
    const t = h.split('/').map((c) => Number(c)),
      [e, i, o] = t;
    return new Date(o, i - 1, e);
  },
  yr = {
    cssPrefix: 'data-den-',
    mode: 'client',
    columns: [],
    defaultColDef: {
      sort: !1,
      filter: !1,
      filterRenderer: lr,
      filterOptions: {
        method: 'includes',
        debounceTime: 500,
        caseSensitive: !1,
        dateParserFn: Sr,
        listOptions: [],
      },
      resize: !1,
      width: 200,
      cellRenderer: tr,
    },
    rows: [],
    draggable: !1,
    pagination: !1,
    paginationOptions: Cr,
    quickFilterOptions: Pr,
    resizable: !1,
    rowHeight: 26,
  },
  _t = (h) => h && typeof h == 'object',
  ji = (h, t) =>
    !_t(h) || !_t(t)
      ? t
      : (Object.keys(t).forEach((e) => {
          const i = h[e],
            o = t[e];
          Array.isArray(i) && Array.isArray(o)
            ? (h[e] = i.concat(o))
            : _t(i) && _t(o)
            ? (h[e] = ji(Object.assign({}, i), o))
            : (h[e] = o);
        }),
        h);
var ms, ps, bs, ws, vs, xs, Pt, Ds, Cs, Ji, Es, Ki;
class Rr {
  constructor(t, e) {
    r(this, Cs);
    r(this, Es);
    r(this, ms, void 0);
    r(this, ps, void 0);
    r(this, bs, void 0);
    r(this, ws, void 0);
    r(this, vs, void 0);
    r(this, xs, void 0);
    r(this, Pt, null);
    r(this, Ds, null);
    const i = a(this, Cs, Ji).call(this, yr, e);
    n(this, Pt, a(this, Es, Ki).call(this, i)),
      s(this, Pt) && n(this, Ds, new Dr(s(this, Pt))),
      n(this, ms, new ur(t, i)),
      n(this, ps, new wr()),
      n(this, bs, new pr(i)),
      n(this, ws, new fr(i)),
      n(this, vs, e.draggable ? new gr(t, i) : null),
      n(this, xs, e.columns.some((o) => o.resize) ? new mr(t, i) : null);
  }
  on(t, e) {
    Ps.on(t, e);
  }
  sort(t, e) {
    const i = 'command:sorting:start';
    l.publish(i, {
      context: new m(i),
      field: t,
      order: e,
    });
  }
  quickFilter(t) {
    const i = {
      context: new m('info:filtering:quick-filter-changed'),
      searchTerm: t,
    };
    l.publish('info:filtering:quick-filter-changed', i);
  }
}
(ms = new WeakMap()),
  (ps = new WeakMap()),
  (bs = new WeakMap()),
  (ws = new WeakMap()),
  (vs = new WeakMap()),
  (xs = new WeakMap()),
  (Pt = new WeakMap()),
  (Ds = new WeakMap()),
  (Cs = new WeakSet()),
  (Ji = function (t, e) {
    return ji(Yt(t), e);
  }),
  (Es = new WeakSet()),
  (Ki = function (t) {
    const { mode: e, rows: i } = t;
    return e === 'client' && i.length ? new vr(t.rows) : e === 'server' ? new xr() : null;
  });
export {
  Rr as DataDen,
  vr as DataDenClientDataLoaderStrategy,
  Qi as DataDenDataLoaderStrategy,
  tr as DataDenDefaultCellRenderer,
  xr as DataDenServerDataLoaderStrategy,
};
//# sourceMappingURL=data-den.es.min.js.map
